import{A as P}from"./socialCopy.Dmq-SWp-.js";document.addEventListener("DOMContentLoaded",()=>{const p=document.querySelector(".model-filter"),A=p?.dataset.gridSelector||".logos-grid",I=p?.dataset.cardSelector||".logo-card",i=document.querySelectorAll(".filter-btn"),S=document.querySelectorAll(".grid-btn"),l=document.querySelector(A),c=Array.from(l?.querySelectorAll(I)||[]),u=document.querySelector(".loading-indicator"),y=document.querySelector(".scroll-sentinel"),{bannerAd:d}=P,C=12;let r="all",m=0,f=!1,g=!0;const E="logoprompt-grid-columns",M=6;function b(){const t=localStorage.getItem(E);if(t){const e=parseInt(t,10);if(e>=2&&e<=6)return e}return M}function v(t){localStorage.setItem(E,t.toString()),l&&l.style.setProperty("--grid-columns",t.toString()),S.forEach(e=>{e.classList.toggle("active",parseInt(e.dataset.columns||"4",10)===t)})}const q=b();v(q),S.forEach(t=>{t.addEventListener("click",()=>{const e=parseInt(t.dataset.columns||"4",10);v(e)})});function B(){const t=c.length,e=document.querySelector('.count[data-count="all"]');e&&(e.textContent=t.toString());const a={};c.forEach(n=>{const o=n.getAttribute("data-model")||"";a[o]=(a[o]||0)+1}),Object.entries(a).forEach(([n,o])=>{const s=document.querySelector(`.count[data-count="${n}"]`);s&&(s.textContent=o.toString())})}B();function N(t){const e=document.createElement("div");e.className="ad-banner",e.dataset.adSlot=t.toString();const a=document.createElement("div");a.className="ad-content";const n=document.createElement("div");n.className="ad-label",n.textContent="Advertisement";const o=document.createElement("div");return o.className="ad-container",o.id=`ad-container-${t}`,a.appendChild(n),a.appendChild(o),e.appendChild(a),setTimeout(()=>{window.atOptions={key:d.key,format:d.format,height:d.height,width:d.width,params:{}};const s=document.createElement("script");s.src=d.scriptUrl,s.async=!0,o.appendChild(s)},100),e}function U(){return r==="all"?c:c.filter(t=>t.getAttribute("data-model")===r)}function h(){c.forEach(e=>{e.style.display="none",e.classList.remove("fade-in")}),l.querySelectorAll(".ad-banner").forEach(e=>e.remove()),m=0,g=!0,L()}function L(){f||!g||(f=!0,u&&(u.style.display="flex"),setTimeout(()=>{const t=U(),e=m,a=Math.min(e+C,t.length);if(e>0&&e<t.length){const n=Math.floor(e/C),o=N(n);if(o){const s=t[e-1];s&&s.parentNode&&s.parentNode.insertBefore(o,s.nextSibling)}}for(let n=e;n<a;n++){const o=t[n];o.style.display="",setTimeout(()=>{o.classList.add("fade-in")},(n-e)*50)}m=a,g=m<t.length,u&&(u.style.display="none"),f=!1,O()},200))}function O(){const t=new URL(window.location.href);r==="all"?t.searchParams.delete("model"):t.searchParams.set("model",r),t.searchParams.delete("page"),window.history.replaceState({model:r},"",t.toString())}function w(){return new URLSearchParams(window.location.search).get("model")||"all"}const x=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&!f&&g&&L()})},{root:null,rootMargin:"200px",threshold:0});y&&x.observe(y),i.forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.model||"all";e!==r&&(r=e,i.forEach(a=>a.classList.remove("active")),t.classList.add("active"),h(),l&&l.scrollIntoView({behavior:"smooth",block:"start"}))})}),window.addEventListener("popstate",()=>{const t=w();t!==r&&(r=t,i.forEach(e=>{e.classList.toggle("active",e.dataset.model===r)}),h())}),r=w(),i.forEach(t=>{t.classList.toggle("active",t.dataset.model===r)}),h()});
