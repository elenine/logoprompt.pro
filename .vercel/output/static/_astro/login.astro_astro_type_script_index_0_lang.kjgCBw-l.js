import{a as i}from"./auth-client.aU-CXMHq.js";document.getElementById("google-signin")?.addEventListener("click",async()=>{const t=document.getElementById("google-signin");t.disabled=!0;const e=t.querySelector("span:last-child");e&&(e.textContent="Signing in...");try{const r=new URLSearchParams(window.location.search).get("redirect")||"/profile";await i.signIn.social({provider:"google",callbackURL:r,errorCallbackURL:"/login?error=auth_failed"})}catch(n){console.error("Google sign in error:",n),t.disabled=!1;const r=t.querySelector("span:last-child");r&&(r.textContent="Continue with Google")}});document.getElementById("login-form")?.addEventListener("submit",async t=>{t.preventDefault();const e=t.target,n=e.querySelector(".submit-btn"),r=e.querySelector(".btn-text"),l=e.querySelector(".btn-loading"),a=document.getElementById("form-error"),s=e.querySelector("#email").value,c=e.querySelector("#password").value;n.disabled=!0,r.style.display="none",l.style.display="inline",a.style.display="none";try{const o=await i.signIn.email({email:s,password:c});if(o.error)throw new Error(o.error.message||"Sign in failed");const d=new URLSearchParams(window.location.search).get("redirect")||"/profile";window.location.href=d}catch(o){a.textContent=o.message||"Sign in failed. Please try again.",a.style.display="block",n.disabled=!1,r.style.display="inline",l.style.display="none"}});
